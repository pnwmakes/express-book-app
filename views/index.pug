doctype html
html
  head
    title Express Book App
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css")
  body(class="bg-gray-100 min-h-screen text-gray-900")
    .max-w-5xl.mx-auto.mt-10.px-4
      h1.text-3xl.font-bold.mb-6.text-center Book List

      //- Add Book Button
      .text-center.mb-6
        a.bg-green-600.text-white.px-4.py-2.rounded-md.hover:bg-green-700.transition(href="/add-book") + Add New Book

      //- Search Form
      form.flex.flex-col.sm:flex-row.items-center.justify-center.mb-6.gap-4(action="/" method="GET")
        input(
          type="text" 
          name="search" 
          placeholder="Search books..." 
          value=search 
          class="w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        )
        button(
          type="submit" 
          class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition"
        ) Search

      if search
        a(
          href="/" 
          class="block mb-4 text-center text-sm text-blue-600 hover:underline"
        ) ‚Üê Back to Full Book List

      if books.length
        .grid.grid-cols-1.sm:grid-cols-2.lg:grid-cols-3.gap-6
          each book in books
            .bg-white.shadow-md.rounded-lg.p-6.flex.flex-col.justify-between
              h2.text-xl.font-semibold.mb-2 #{book.title}
              p.text-gray-700.mb-1 Author: #{book.author}
              p.text-gray-600.text-sm.mb-2 ISBN: #{book.isbn}

              //- Action Links
              a.text-blue-600.hover:underline.mb-2(href=`/book/${book.isbn}`) View Details ‚Üí
              a.text-yellow-600.hover:underline.mb-2(href=`/edit-book/${book.isbn}`) ‚úé Edit

              form(action=`/delete-book/${book.isbn}` method="POST")
                button.text-red-600.hover:underline(type="submit" onclick="return confirm('Are you sure you want to delete this book?')") üóë Delete
      else
        p.text-center.text-gray-500.mt-10 No books found.
