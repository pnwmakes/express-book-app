doctype html
html
  head
    title Code & Coffee: James’s Library

    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css")
  body(class="bg-gray-100 min-h-screen text-gray-900")
    .max-w-5xl.mx-auto.mt-10.px-4
      h1.text-3xl.font-bold.mb-6.text-center Code & Coffee: James’s Library

      .text-center.mb-6.flex.justify-center.gap-4
        a(href="/add-book", class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition") Add New Book
        form(action="/seed", method="POST")
          button(type="submit", class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition") Reset Library

      form(class="flex flex-col sm:flex-row items-center justify-center mb-6 gap-4", action="/", method="GET")
        input(
          type="text",
          name="search",
          placeholder="Search books...",
          value=search,
          class="w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        )
        button(
          type="submit",
          class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition"
        ) Search

      if search
        a(
          href="/",
          class="block mb-4 text-center text-sm text-blue-600 hover:underline"
        ) ← Back to Full Book List

      if books.length
        div(class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6")
          each book in books
            div(class="bg-white shadow-md rounded-lg p-6 flex flex-col justify-between transition-shadow hover:shadow-xl")
              h2(class="text-xl font-semibold mb-2 text-gray-800") #{book.title}
              p(class="text-gray-700 mb-1") Author: #{book.author}
              p(class="text-gray-600 text-sm mb-2") ISBN: #{book.isbn}
              .mt-4.flex.flex-wrap.gap-2
                a(class="bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition", href=`/book/${book.isbn}`) View
                a(class="bg-yellow-500 text-white px-3 py-1 rounded-md hover:bg-yellow-600 transition", href=`/edit-book/${book.isbn}`) Edit
                form(action=`/delete-book/${book.isbn}`, method="POST")
                  button(type="submit", class="bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 transition") Delete
      else
        p(class="text-center text-gray-500 mt-10") No books found.
footer.text-center.text-xs.text-gray-400.mt-10.pb-4
      | Built by James · Victory Code Bootcamp
